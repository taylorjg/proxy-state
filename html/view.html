<!DOCTYPE html>
<html>

<head>
  <title>Proxy Stats</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css" />
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">

        <h1>Proxy Stats</h1>

        {% for _, targetStats in pairs(stats) do %}

        <h2>{*targetStats.target*}</h2>

        <table class="table table-striped table-condensed">
          <thead>
            <th>Property</th>
            <th>Value</th>
          </thead>
          <tbody>
            <tr>
              <td>Count</td>
              <td>{{targetStats.count}}</td>
            </tr>
            <tr>
              <td>Average Latency (ms)</td>
              <td>{{targetStats.avg_latency_ms}}</td>
            </tr>
          </tbody>
        </table>

        <table class="table table-striped table-condensed">
          <thead>
            <th>HTTP Status Range</th>
            <th>Count</th>
          </thead>
          <tbody>
            <!-- {% for range, count in pairs(targetStats.http_status) do %}
            <tr>
              <td>{{range}}</td>
              <td>{{count}}</td>
            </tr>
            {% end %} -->
            <tr>
              <td>2XX</td>
              <td>{{targetStats.http_status["2XX"]}}</td>
            </tr>
            <tr>
              <td>3XX</td>
              <td>{{targetStats.http_status["3XX"]}}</td>
            </tr>
            <tr>
              <td>4XX</td>
              <td>{{targetStats.http_status["4XX"]}}</td>
            </tr>
            <tr>
              <td>5XX</td>
              <td>{{targetStats.http_status["5XX"]}}</td>
            </tr>
          </tbody>
        </table>

        {% end %}
      </div>
    </div>
  </div>
</body>

</html>